# Spring Web MVC CRUD API

## Описание
Это проект с реализацией CRUD (Create, Read, Update, Delete) API для постов с использованием Spring Web MVC и встроенного Tomcat. Он предназначен для работы с постами, которые можно добавлять, получать, обновлять и удалять, с использованием функциональности "мягкого" удаления (посты помечаются как удалённые, но не удаляются из базы данных).

## Технологии
- **Spring Boot** - для создания веб-приложения.
- **Spring Web MVC** - для реализации RESTful API.
- **Embed Tomcat** - для запуска сервера.
- **Maven** - для управления зависимостями.
- **JUnit** - для тестирования.

## Структура API

- `GET /api/posts` - Получение всех постов (без удалённых).
- `GET /api/posts/{id}` - Получение поста по ID.
- `POST /api/posts` - Создание нового поста.
- `DELETE /api/posts/{id}` - Пометить пост как удалённый.

## Установка

Задача со звёздочкой: Мягкое удаление (Soft Delete)
Описание
Реализована функциональность мягкого удаления постов, чтобы пользовательские данные не удалялись безвозвратно. Вместо физического удаления пост помечается как удалённый с помощью флага removed.

Реализация
Модель:
В класс Post добавлено поле removed (тип boolean, по умолчанию false).
Репозиторий:
Логика мягкого удаления реализована в PostRepository:
Метод removeById(long id) устанавливает removed = true для поста.
Метод all() возвращает только посты с removed = false.
Метод getById(long id) возвращает Optional.empty(), если пост удалён (removed = true).
Метод save(Post post) для обновления поста проверяет, не удалён ли пост, и выбрасывает NotFoundException, если removed = true.
Исключения:
При попытке получить или обновить удалённый пост выбрасывается NotFoundException, которое возвращает HTTP-статус 404 благодаря аннотации @ResponseStatus(HttpStatus.NOT_FOUND).
Слой реализации:
Логика мягкого удаления реализована в PostRepository, так как это слой управления данными. Это изолирует бизнес-логику от контроллера и сервиса, упрощает тестирование и обеспечивает единообразную обработку данных.
Pull Request
Функциональность мягкого удаления реализована в ветке soft-delete.
Автор: art4000xxx
